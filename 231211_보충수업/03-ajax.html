<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>03-ajax</title>
  </head>
  <body></body>
  <script>
    // 1. 비동기 Promise
    const url = "https://jsonplaceholder.typicode.com/comments";
    const url2 = "https://jsonplaceholder.typicode.com/photos";
    // fetch(url).then((response) => console.log(response.json()));
    // fetch(url).then((response) =>
    //   fetch(url2).then((response) => console.log(response.json()))
    // );

    // await : 비동기 통신하는 곳 앞에 붙인다.
    // async function getComments() {
    //   new Promise();
    //   const result = await fetch(url);
    //   const result2 = await fetch(url2);
    //   console.log(result.json());
    //   console.log(result2.json());
    // }

    async function getComments() {
      // console.time("소요시간 : ");
      const result = await fetch(url);
      console.log(result);
    }

    async function getPhotos() {
      const result2 = await fetch(url2);
      console.log(result2);
      // console.timeEnd("소요시간 : ");
    }

    async function All() {
      console.time("소요시간 : ");
      await Promise.all([getComments(), getPhotos()]);
      console.timeEnd("소요시간 : ");
    }

    console.time("소요시간 : ");
    getComments().then(getPhotos());
    console.timeEnd("소요시간 : ");

    // console.time("소요시간 : ");
    All();
    // console.timeEnd("소요시간 : ");
  </script>
</html>
